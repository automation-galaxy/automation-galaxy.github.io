<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Automation Galaxy</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
            color: #333;
        }
        header {
            background-color: #282c34;
            padding: 20px;
            text-align: center;
            color: #fff;
        }
        header h1 {
            font-size: 3em;
            margin: 0;
            text-transform: uppercase;
        }
        header p {
            font-size: 1.2em;
            margin-top: 5px;
            color: #61dafb;
        }
        nav {
            text-align: center;
            padding: 10px 0;
            background-color: #333;
        }
        nav a {
            margin: 0 15px;
            color: #fff;
            text-decoration: none;
            font-size: 1.2em;
        }
        nav a:hover {
            color: #61dafb;
        }
        .container h2 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
        }
        .intro {
            text-align: center;
            margin-bottom: 30px;
        }
        .intro h2 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        .intro p {
            font-size: 1.2em;
            color: #555;
        }
        footer {
            background-color: #282c34;
            color: #fff;
            text-align: center;
            padding: 20px;
            margin-top: 50px;
        }
        footer p {
            margin: 0;
            font-size: 1em;
        }
    </style>
</head>
<body>
    <header>
        <h1>Automation Galaxy</h1>
        <p>Explore the universe of IT automation, coding, and virtualization</p>
    </header>
    
    <nav>
        <a href="index.html">Home</a>
        <a href="blog.html">Blog</a>
        <a href="#">Resources</a>
        <a href="#">About</a>
        <a href="contact.html">Contact</a>
    </nav>


    
    <div class="container">
        
    <h2>Extract Files from vRO polyglot containers</h2>

    <p>When your polyglot code generates some extra files that need to be recovered for debug or some other reason the following approach will allow the files to be extracted for review. </p>

    <ol>
        <li>SSH to vRA/vRO.</li>
        <li>Change directory to <code>vco-polyglot-runner-sock</code>.</li>
        <pre><code>cd /data/vco/var/run/vco-polyglot-runner-sock</code></pre>

        <li>Create a payload folder.</li>
        <pre><code>mkdir payload</code></pre>

        <li>Find the container with <code>vco</code> in the name.</li>
        <pre><code>docker ps | grep vco</code></pre>

        <li>Exec into the vco container.</li>
        <pre><code>docker exec -it 0a7605922418 /bin/bash</code></pre>

        <li>In the vco container, change directory to the payload folder.</li>
        <pre><code>cd /var/run/payload</code></pre>

        <li>Check the mount points for the running polyglot container by first listing the running containers.</li>
        <pre><code>docker ps</code></pre>

        <li>Once you get the id of the container, run the describe command to get the mount details.</li>
        <pre><code>docker describe cadf39c83f19</code></pre>

        <li>Mount data should look something like this:
            <pre>"Source": "/var/lib/docker/volumes/1bf6baa947edceccde3dc00783b60012d81349cbba38e62ef6cb6660379c1c3f/_data",
            "Destination": "/var/run/vco-polyglot/outputs"</pre>
        </li>

        <li>SSH into the polyglot container.</li>
        <pre><code>docker exec -it cadf39c83f19 /bin/bash</code></pre>

        <li>Change directory to the <code>_data</code> folder as per the source identified in the previous step.</li>
        <pre><code>cd /var/lib/docker/volumes/1bf6baa947edceccde3dc00783b60012d81349cbba38e62ef6cb6660379c1c3f/_data/</code></pre>

        <li>Copy the contents of the <code>_data</code> folder to the payload folder.</li>
        <pre><code>cp -r * /var/run/payload</code></pre>

        <li>Exit the polyglot container and move the contents of the payload folder to <code>/root/payload2</code> or similar.</li>
        <pre><code>mv /data/vco/var/run/vco-polyglot-runner-sock/payload /root/payload2</code></pre>
    </ol>

    </div>

    <footer>
        <p>Â© 2024 Automation Galaxy. All rights reserved.</p>
    </footer>
</body>
</html>
